<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca PAP - Sistema de Gesti√≥n</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/spa.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="header-text">
                    <a href="landing.html" style="text-decoration: none; color: inherit; cursor: pointer;">
                        <h1>üèõÔ∏è Biblioteca PAP</h1>
                    </a>
                    <p>Sistema de Gesti√≥n de Biblioteca Comunitaria</p>
                </div>
                <div class="header-controls">
                    <button id="themeToggle" class="theme-toggle" title="Cambiar tema">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Navegaci√≥n -->
    <nav class="nav" id="mainNavigation" style="display: none;">
        <div class="container">
            <div class="nav-header">
                <div id="userInfo" class="user-info-container"></div>
                <button id="logoutBtn" class="btn btn-outline btn-sm">Cerrar Sesi√≥n</button>
            </div>
            <div class="nav-content">
                <!-- El contenido de navegaci√≥n se cargar√° din√°micamente seg√∫n el rol -->
            </div>
        </div>
    </nav>

    <!-- Contenido principal -->
    <main class="container" id="mainContent" style="margin-top: 2rem; margin-bottom: 2rem;">
        
        <!-- P√°gina de Login -->
        <div id="loginPage" class="page">
            <div class="row">
                <div class="col-6" style="margin: 0 auto; max-width: 400px;">
                    <div class="card">
                        <div class="card-header">
                            <h3 style="margin: 0; text-align: center;">üîê Iniciar Sesi√≥n</h3>
                        </div>
                        <div class="card-body">
                            <form id="loginForm">
                                <div class="form-group">
                                    <label for="userType">Tipo de Usuario:</label>
                                    <select id="userType" name="userType" class="form-control" required>
                                        <option value="">Seleccione...</option>
                                        <option value="BIBLIOTECARIO">Bibliotecario</option>
                                        <option value="LECTOR">Lector</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="email">Email:</label>
                                    <input type="email" id="email" name="email" class="form-control" required 
                                           placeholder="Ingrese su email">
                                </div>
                                
                                <div class="form-group">
                                    <label for="password">Contrase√±a:</label>
                                    <input type="password" id="password" name="password" class="form-control" required 
                                           placeholder="Ingrese su contrase√±a">
                                </div>
                                
                                <div class="form-group text-center">
                                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                                        Iniciar Sesi√≥n
                                    </button>
                                </div>
                            </form>
                            
                            <div class="text-center mt-2">
                                <p>¬øNo tienes cuenta? <a href="#" id="showRegisterBtn">Reg√≠strate aqu√≠</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- P√°gina de Registro -->
        <div id="registerPage" class="page" style="display: none;">
            <div class="row">
                <div class="col-6" style="margin: 0 auto; max-width: 500px;">
                    <div class="card">
                        <div class="card-header">
                            <h3 style="margin: 0; text-align: center;">üìù Registrarse</h3>
                        </div>
                        <div class="card-body">
                            <form id="registerForm">
                                <div class="form-group">
                                    <label for="regUserType">Tipo de Usuario:</label>
                                    <select id="regUserType" name="userType" class="form-control" required>
                                        <option value="">Seleccione...</option>
                                        <option value="BIBLIOTECARIO">Bibliotecario</option>
                                        <option value="LECTOR">Lector</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="regNombre">Nombre:</label>
                                    <input type="text" id="regNombre" name="nombre" class="form-control" required 
                                           placeholder="Ingrese su nombre">
                                </div>
                                
                                <div class="form-group">
                                    <label for="regApellido">Apellido:</label>
                                    <input type="text" id="regApellido" name="apellido" class="form-control" required 
                                           placeholder="Ingrese su apellido">
                                </div>
                                
                                <div class="form-group">
                                    <label for="regEmail">Email:</label>
                                    <input type="email" id="regEmail" name="email" class="form-control" required 
                                           placeholder="Ingrese su email">
                                </div>
                                
                                <div class="form-group">
                                    <label for="regTelefono">Tel√©fono:</label>
                                    <input type="tel" id="regTelefono" name="telefono" class="form-control" required 
                                           placeholder="Ingrese su tel√©fono">
                                </div>
                                
                                <!-- Campos espec√≠ficos para Bibliotecario -->
                                <div id="bibliotecarioFields" style="display: none;">
                                    <div class="form-group">
                                        <label for="regNumeroEmpleado">N√∫mero de Empleado:</label>
                                        <input type="text" id="regNumeroEmpleado" name="numeroEmpleado" class="form-control" 
                                               placeholder="Ingrese su n√∫mero de empleado">
                                    </div>
                                </div>
                                
                                <!-- Campos espec√≠ficos para Lector -->
                                <div id="lectorFields" style="display: none;">
                                    <div class="form-group">
                                        <label for="regDireccion">Direcci√≥n:</label>
                                        <input type="text" id="regDireccion" name="direccion" class="form-control" 
                                               placeholder="Ingrese su direcci√≥n">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label for="regZona">Zona:</label>
                                        <select id="regZona" name="zona" class="form-control">
                                            <option value="">Seleccione una zona...</option>
                                            <option value="BIBLIOTECA_CENTRAL">üìö Biblioteca Central</option>
                                            <option value="SUCURSAL_ESTE">üè¢ Sucursal Este</option>
                                            <option value="SUCURSAL_OESTE">üè¢ Sucursal Oeste</option>
                                            <option value="BIBLIOTECA_INFANTIL">üë∂ Biblioteca Infantil</option>
                                            <option value="ARCHIVO_GENERAL">üìÅ Archivo General</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="regPassword">Contrase√±a:</label>
                                    <input type="password" id="regPassword" name="password" class="form-control" required 
                                           placeholder="Ingrese su contrase√±a">
                                </div>
                                
                                <div class="form-group">
                                    <label for="regConfirmPassword">Confirmar Contrase√±a:</label>
                                    <input type="password" id="regConfirmPassword" name="confirmPassword" class="form-control" required 
                                           placeholder="Confirme su contrase√±a">
                                </div>
                                
                                <div class="form-group text-center">
                                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                                        Registrarse
                                    </button>
                                </div>
                            </form>
                            
                            <div class="text-center mt-2">
                                <p>¬øYa tienes cuenta? <a href="#" id="showLoginBtn">Inicia sesi√≥n aqu√≠</a></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Bibliotecario -->
        <div id="dashboardPage" class="page" style="display: none;">
            <div id="dashboardContent">
                <!-- El contenido se carga din√°micamente -->
            </div>
        </div>

        <!-- Gesti√≥n de Lectores -->
        <div id="lectoresPage" class="page" style="display: none;">
            <div id="lectoresContent">
                <!-- El contenido se carga din√°micamente -->
            </div>
        </div>

        <!-- Gesti√≥n de Pr√©stamos -->
        <div id="prestamosPage" class="page" style="display: none;">
            <div id="prestamosContent">
                <!-- El contenido se carga din√°micamente -->
            </div>
        </div>

        <!-- Gesti√≥n de Donaciones -->
        <div id="donacionesPage" class="page" style="display: none;">
            <div id="donacionesContent">
                <!-- El contenido se carga din√°micamente -->
            </div>
        </div>

        <!-- Gesti√≥n de Libros -->
        <div id="librosPage" class="page" style="display: none;">
            <div id="librosContent">
                <!-- El contenido se carga din√°micamente -->
            </div>
        </div>

        <!-- Reportes -->
        <div id="reportesPage" class="page" style="display: none;">
            <div id="reportesContent">
                <!-- El contenido se carga din√°micamente -->
            </div>
        </div>

        <!-- Loading overlay -->
        <div id="loadingOverlay" class="loading-overlay" style="display: none;">
            <div class="spinner"></div>
            <p>Cargando...</p>
        </div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Biblioteca PAP - Sistema de Gesti√≥n de Biblioteca Comunitaria</p>
            <p>Desarrollado con Java, JSP, jQuery y Web Services</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/forms.js"></script>
    <script src="js/dashboard.js"></script>
    <script src="js/management.js"></script>
    <script src="js/lazy-loading.js"></script>
    <script src="js/spa.js"></script>
</body>
</html>
